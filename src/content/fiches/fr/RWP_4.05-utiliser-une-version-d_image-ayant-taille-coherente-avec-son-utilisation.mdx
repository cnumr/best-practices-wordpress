---
refID: '4.05'
title: Utiliser une version d'image ayant une taille coh√©rente avec son utilisation
createdAt: 2024-01-20T13:17:16.663Z
updatedAt: 2024-01-28T10:13:25.476Z
language: fr
published: true
refType: RWP
versions:
  - version: 1.0.0
    idRef: '4.05'
people: Renaud H.
scope: images
responsible:
  - responsible: src/content/personas/fr/codeuseur-developpeuser.mdx
  - responsible: src/content/personas/fr/designeuser.mdx
  - responsible: >-
      src/content/personas/fr/low-code-freelance-et-developpeur-front-end-d-agences.mdx
  - responsible: src/content/personas/fr/no-code-madame-et-monsieur-tout-le-monde.mdx
lifecycle: 4-integration-development
environmental_impact: high_environmental_impact
priority_implementation: high_priority
saved_resources:
  - cpu
  - ram
  - storage
  - network
  - requests
validations:
  - rule: d'images sans une vignette adapt√©e √† son affichage HTML
    maxValue: '0'
---

## Sujet

[Les images sont un des √©l√©ments les plus lourds des sites web](https://almanac.httparchive.org/en/2022/page-weight#content-type-and-file-formats). Une mauvaise compression ou **un mauvais dimensionnement de vos images auront un impact √©cologique n√©gatif, ainsi que sur vos performances d'affichage. La notation Google de votre site en sera aussi p√©nalis√©e**.

Lors de l'ajout d'une image dans l'interface d'une page, il faut se poser plusieurs questions, abord√©es sur d'autres fiches de ce guide :

- Le type d'image (JPG, PNG, SVG, etc. voir [5.02 Utiliser le format ad√©quat d'image](./WP_5.02-utiliser-le-format-adequat-d_image.md))
- La compression possible ou le nombre de couleurs embarqu√©es
- La transparence ou non
- Et ici, la taille de l'image.

Lors de l'upload, WordPress cr√©e d'office des versions \[\[vignette|vignettes]] de vos m√©dias.

Les vignettes sont des versions de dimensions r√©duites de votre m√©dia initial et certaines avec des proportions diff√©rentes (carr√©e).

Les \[\[theme|th√®mes]], si c'est configur√© dans le code, g√©n√®rent aussi des vignettes r√©pondant aux besoins de leur interface (une pour un affichage en grille, en mobile pour les Portfolios, une autre pour la version tablette, etc.).

Lors de la cr√©ation d'un site, il est important de configurer la g√©n√©ration des vignettes pour optimiser et acc√©l√©rer l'affichage.

Sachant que votre site va finalement n'utiliser que des versions de tailles r√©duites de vos images, il est aussi bon pour la plan√®te de se poser la question lors de l'upload de votre m√©dia si une version en 2600‚Äâpx est n√©cessaire alors que votre site n'affiche que des images de 800‚Äâpx maximum. En effet, ces m√©dias "gigantesques" restent n√©anmoins stock√©s sur le serveur, devront transiter sur les r√©seaux lors de l'upload et sont conserv√©s dans les sauvegardes de votre site.

## GreenIT vous conseille

### Solution no-code üå±

Voici une \[\[extension]] pour cr√©er des \[\[vignette|vignettes]] (`post-thumbnails`) et r√©g√©n√©rer les images pour qu'elles soient disponibles dans WordPress : [https://fr.wordpress.org/plugins/regenerate-thumbnails-advanced/](https://fr.wordpress.org/plugins/regenerate-thumbnails-advanced/)

### Solution code üå±üå±üå±

Lorsque vous cr√©ez un th√®me ou lorsque vous utilisez un builder de site, ajoutez √† votre site cet exemple de code pour pouvoir g√©n√©rer et utiliser la bonne taille de vignettes suivant son contexte d'utilisation :

```php
/**
 * Add custom images size
 */
add_theme_support('post-thumbnails');

add_image_size('logo_header_size', 127, 44);
add_image_size('custom_product_size_510', 510);
add_image_size('custom_product_size_320', 320);
add_image_size('custom_product_size_396', 396);

// And then we'll add the custom size
// that spans the width of the blog
// to the Gutenberg image dropdown
add_filter('image_size_names_choose', 'mysite_custom_image_sizes');

function mysite_custom_image_sizes($sizes)
{
    return array_merge($sizes, array(
        'logo_header_size' => __('Custom header logo Size'),
        'custom_product_size_510' => __('Custom Size (w:510px)'),
        'custom_product_size_320' => __('Custom Size (w:320px)'),
        'custom_product_size_396' => __('Custom Size (w:396px)'),
    ));
}
```

Utilisez cette extension pour reg√©n√©ner les vignettes suite √† leur ajout dans la configuration : [https://fr.wordpress.org/plugins/regenerate-thumbnails/](https://fr.wordpress.org/plugins/regenerate-thumbnails/)
